<% content_for :title, @project.name %>

<div class="container mx-auto px-4 py-6">
  <div class="rounded-lg border border-white/10 bg-white/5 p-4 mb-4">
    <div class="flex items-start justify-between gap-4">
      <div class="flex-1 min-w-0">
        <h1 class="text-xl font-semibold text-white break-words"><%= @project.name %></h1>
        <% status_label =
          case @project.status.to_s
          when "new" then "New"
          when "in_progress", "in_progess" then "In progress"
          when "waiting_for_approval" then "Waiting for approval"
          when "done" then "Done"
          else @project.status.to_s.humanize
          end %>
        <% status_bg =
          case @project.status.to_s
          when "new" then "#38bdf8" # sky-400
          when "in_progress", "in_progess" then "#f59e0b" # amber-500
          when "waiting_for_approval" then "#f97316" # orange-500
          when "done" then "#10b981" # emerald-500
          else "#94a3b8" # slate-400
          end %>
        <div class="mt-2">
          <span class="inline-flex items-center rounded-md px-2 py-0.5 text-xs font-medium border border-white/10" style="background-color: <%= status_bg %>; color: #ffffff;"><%= status_label %></span>
        </div>
      </div>
      <div class="text-right w-64 shrink-0">
        <div class="mb-2">
          <div class="text-white/70 text-xs uppercase tracking-wide mb-1">Designers</div>
          <% if @project.designers.any? %>
            <div class="flex flex-wrap gap-1 justify-end">
              <% @project.designers.each do |designer| %>
                <span class="inline-flex items-center rounded-md bg-white/10 border border-white/10 px-2 py-0.5 text-xs text-white/90"><%= designer.name %></span>
              <% end %>
            </div>
          <% else %>
            <div class="text-white/60 text-xs">None</div>
          <% end %>
        </div>
        <div>
          <div class="text-white/70 text-xs uppercase tracking-wide mb-1">Clients</div>
          <% if @project.clients.any? %>
            <div class="flex flex-wrap gap-1 justify-end">
              <% @project.clients.each do |client| %>
                <span class="inline-flex items-center rounded-md bg-white/10 border border-white/10 px-2 py-0.5 text-xs text-white/90"><%= client.name %></span>
              <% end %>
            </div>
          <% else %>
            <div class="text-white/60 text-xs">None</div>
          <% end %>
        </div>
      </div>
    </div>
  </div>

  <div class="rounded-lg border border-white/10 bg-white/5 p-2" data-controller="tabs">
    <div class="flex items-center gap-2 border-b border-white/10 pb-2">
      <% rooms = ["Living room","Kitchen","Dining room","Master bedroom","Guest bedroom","Master bathroom"] %>
      <% rooms.each_with_index do |room, idx| %>
        <button type="button"
                class="px-3 py-1.5 rounded-md text-sm border border-white/10"
                data-tabs-target="tab"
                data-action="click->tabs#select"
                data-room="<%= room %>"
                data-active="<%= (idx == 0).to_s %>"><%= room %></button>
      <% end %>
      <span class="ml-auto">
        <a href="#" class="px-3 py-1.5 rounded-md text-sm bg-purple-950 hover:bg-purple-900 text-white border border-white/10">Add new room</a>
      </span>
    </div>
    <div class="p-3 text-white/80 text-sm" data-tabs-target="content"></div>
  </div>
</div>

